# Консольная змейка на Windows

## Создание проекта

### Почему Windows

Для начала давайте разберёмся, почему змейка будет написана только для Windows и не подойдёт для Linux. Дело в том, что командная строка на Windows и терминал на Linux устроены по-разному. В реализации мы будем использовать возможность командной строки Windows для переставления курсора программно. В терминале Linux такая возможность отсутствует.
 
### stack new

Если вы ещё не пользовались утилитой `stack`, удостовертесь, что она установлена: откройте командную строку и введите `stack --version`. Если вы увидели версию stack, то переходите к следующему абзацу. Если вы не увидели версию `stack`, но устанавливали компилятор и интерпретатор через GHCup, как было рекомендовано в нашем учебном плане, то можете ввести в командной строке `ghcup tui` и проверить наличие и установить `stack` через него. Если вы устанавливали stack другим способом, то сперва найдите его на компьютере, а затем проверьте наличие пути к stack в переменной системы `PATH`. Также у Windows могут возникнуть проблемы с доступом к stack через PATH, если в пути есть русские буквы или пробелы.

Для начала создадим новый пустой проект: откройте командную строку в папке, в которой вы хотите создать проект. При создании проекта stack сам создаст новую папку в текущем каталоге: введите `stack new console-snake`. Далее в командной строке перейдите в папку `console-snake` и введите `stack build` - эта команда скомпилирует проект. Для запуска введите `stack exec console-snake-exe`.

Теперь разберёмся со структурой проекта:
В папке `app` хранится файл `Main.hs`, в этом модуле размещается функция `main`, с которой начинается выполнение программы, когда мы пишем `stack exec console-snake-exe`. В папке `src` хранятся дополнительные модули проекта, там мы можем создавать папки и модули и использовать одни модули в других, в том числе использовать модули из папки `src` в модуле `Main`. В файлах `package.yaml` и `stack.yaml`. Находится конфигурация проекта, в них указываются такие вещи как используемые библиотеки и настройки компиляции. В папке `test` находятся модули для тестирования исходного кода. В папке `.stack-work` (она может быть скрыта) хранятся артефакты компиляции. Часто нет необходимости перекомпилировать весь проект, если поменялся только один файл, поэтому для компиляции будут использованы уже готовые артефакты, оставшиеся после прошлой компиляции, а по новой будет скомпилировано только то, что действительно необходимо. В файле `Setup.hs` хранится скрипт для установки проекта в систему.

Сейчас по многим вещам мы прошлись поверхностно. На данном этапе с этой страницы важно усвоить только команды для работы со `stack` и назначение папок `app` и `src`. Пока мы начнём работу с них.

